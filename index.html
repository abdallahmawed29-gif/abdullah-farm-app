<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Abdullah Farm ๐ฟ</title>
<style>
  :root{--main:#2e8b57;--bg:#f6fff8;--card:#fff}
  body{font-family:Tahoma, Arial, sans-serif;background:var(--bg);margin:0;color:#234;line-height:1.6}
  header{background:var(--main);color:#fff;padding:16px;text-align:center;font-size:20px;font-weight:700}
  .container{max-width:900px;margin:18px auto;padding:0 12px}
  .card{background:var(--card);border-radius:10px;padding:14px;margin-bottom:14px;box-shadow:0 4px 12px rgba(0,0,0,0.06)}
  label{display:block;text-align:right;margin-bottom:6px;font-weight:600}
  input[type="text"], input[type="number"], select{width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  button{background:var(--main);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
  button.secondary{background:#4caf70cc}
  footer{background:#234;padding:14px;color:#fff;text-align:center;margin-top:18px;border-top-left-radius:12px;border-top-right-radius:12px}
  ul.clean{list-style:none;padding:0;margin:0;text-align:right}
  .small{font-size:13px;color:#666}
  nav.bottom{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #eee;display:flex;justify-content:center;padding:8px 12px;gap:8px}
  nav.bottom button{flex:1;max-width:220px}
  .hidden{display:none}
  .crop-list{height:140px;overflow:auto;border:1px solid #eee;padding:8px;border-radius:8px}
  .crop-item{padding:6px;border-bottom:1px dashed #f0f0f0;text-align:right;cursor:pointer}
  .crop-item:hover{background:#f3fff6}
  .program-output{white-space:pre-wrap;text-align:right;background:#f8fff9;padding:10px;border-radius:8px;border:1px dashed #dff0e8}
  .flex-between{display:flex;justify-content:space-between;align-items:center}
  @media (min-width:700px){ .row > *{flex:1} }
</style>
</head>
<body>
<header>ุฃูููุง ุจู ูู ุชุทุจูู ุนุจุฏุงููู ูุงุฑู ๐ฟ</header>
<div class="container">
  <div class="card">
    <label>ุงุจุญุซ ุนู ุงููุญุตูู</label>
    <input type="text" id="searchInput" placeholder="ุงูุชุจ ุงุณู ุงููุญุตูู...">
    <div class="crop-list card" id="cropList" style="margin-top:10px"></div>
    <div class="small" style="margin-top:8px">ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุฃู ุงูุชุจ ุงุณู ุงููุญุตูู ุซู ุงุถุบุท ุงูุชุงูู.</div>
    <div style="text-align:center;margin-top:10px">
      <button onclick="openAge()">ุงูุชุงูู</button>
    </div>
  </div>

  <div class="card hidden" id="ageCard">
    <label id="selectedCropLabel">ุงููุญุตูู: -</label>
    <label>ุงูุชุจ ุนูุฑ ุงููุจุงุช ุจุงูุฃูุงู</label>
    <input type="number" id="plantAge" placeholder="ูุซูุงู 45">
    <div style="margin-top:10px;text-align:center">
      <button onclick="showProgram()">ุนุฑุถ ุงูุจุฑูุงูุฌ</button>
      <button class="secondary" onclick="clearSelection()">ุฅูุบุงุก</button>
    </div>
  </div>

  <div class="card hidden" id="programCard">
    <div class="flex-between"><h3>ุจุฑูุงูุฌ ุงูุฑู ูุงูุชุณููุฏ</h3><div class="small">ูุจุณุท ููุฑุดุฏ</div></div>
    <div class="program-output" id="programOutput">ุณูุธูุฑ ุงูุจุฑูุงูุฌ ููุง ุจุนุฏ ุฅุฏุฎุงู ุงูุนูุฑ.</div>
  </div>

  <div class="card">
    <h3>ุฅุฑุดุงุฏุงุช ุนุงูุฉ</h3>
    <ul class="clean">
      <li><b>ุชุญุงููู ุงูุชุฑุจุฉ:</b> ุฅุฌุฑุงุก ุชุญููู ูุจู ุงูุฒุฑุงุนุฉ ูุชุญุฏูุฏ ูุณุชูู ุงูุนูุงุตุฑ ูุฏุฑุฌุฉ ุงูุญููุถุฉ (pH).</li>
      <li><b>ูุธุงุฆู ุงูุนูุงุตุฑ ุงููุจุฑู:</b> ุงูููุชุฑูุฌูู ููููู ุงูุฎุถุฑูุ ุงูููุณููุฑ ููุฌุฐูุฑ ูุงูุฅุฒูุงุฑุ ุงูุจูุชุงุณููู ููุชุงูุฉ ุงูุซูุงุฑ.</li>
      <li><b>ุงูุนูุงุตุฑ ุงูุตุบุฑู:</b> ุงูุญุฏูุฏ ูุงูุฒูู ูุงูููุฌููุฒ ูุงููุญุงุณ ูููุฉ ููุนูููุงุช ุงูุญูููุฉ - ููุตูุง ูุณุจุจ ุงุตูุฑุงุฑ ู ุชุดูู.</li>
      <li><b>ุฃุนุฑุงุถ ุงูููุต:</b> ุงุตูุฑุงุฑ ุงูุฃูุฑุงูุ ุชุจูุนุ ุชุฃุฎุฑ ูููุ ุชูุฒู - ุงูุนูุงุฌ ุจุชุทุจูู ุณูุงุฏ ููุงุฒู ุฃู ูุญููู ูุบุฐู.</li>
      <li><b>ุงูููุชุฌุงุช ุงูุนุถููุฉ:</b> ุชุญุณู ุจููุฉ ุงูุชุฑุจุฉุ ุฒูุงุฏุฉ ุงููุดุงุท ุงููููุฑูุจูุ ุขููุฉ ููุจูุฆุฉ ูุชุฏุนู ุงูุงุณุชุฏุงูุฉ.</li>
    </ul>
    <div class="small" style="margin-top:8px">ุงุถุบุท ุฒุฑ <b>ุฅุฑุดุงุฏุงุช ููุตูุฉ</b> ูู ุงูุดุฑูุท ุงูุณููู ููุฒูุฏ ูู ุงููุนูููุงุช ุงูููุธูุฉ.</div>
  </div>

  <div class="card">
    <h3>ุชุดุฎูุต ุจุงูุตูุฑ (ููุฏ ุงูุชุทููุฑ)</h3>
    <input type="file" id="imageInput" accept="image/*">
    <p class="small">ุณูุชู ุชุญููู ุงูุตูุฑุฉ ูู ุงูุฅุตุฏุงุฑ ุงููุงุฏู. ุงูุขู ููููู ุฑูุน ุตูุฑุฉ ูุนูุตุฑ ูุฑุฌุนู.</p>
  </div>

</div>

<nav class="bottom">
  <button onclick="openGuides()">ุฅุฑุดุงุฏุงุช ุนุงูุฉ</button>
  <button onclick="openDiagnosis()">ุชุดุฎูุต ุจุงูุตูุฑ</button>
  <button onclick="scrollTop()">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
</nav>

<footer>๐ฑ ูุน ุชุญูุงุช: ู. ุนุจุฏุงููู ููุนุฏ โ ๐ 01026355724</footer>

<!-- Hidden pages / modals as simple sections -->
<div id="guidesPage" class="hidden card" style="position:fixed;left:10px;right:10px;top:60px;bottom:80px;overflow:auto;z-index:90">
  <div style="text-align:left;margin-bottom:10px"><button onclick="closeGuides()">ุฑุฌูุน</button></div>
  <h2 style="text-align:right">ุฅุฑุดุงุฏุงุช ููุตูุฉ</h2>
  <section>
    <h3>ุชุญุงููู ุงูุชุฑุจุฉ</h3>
    <p class="small">ููู ุชูุฑุฃ ูุชุงุฆุฌ ุงูุชุญููู: pHุ ECุ %ุงูููุงุฏ ุงูุนุถููุฉุ ูุณุชูู N,P,K ูููุงุฏูุฑ ุงูุนูุงุตุฑ ุงูุตุบุฑู.</p>
  </section>
  <section>
    <h3>ูุธุงุฆู ุงูุนูุงุตุฑ ุงููุจุฑู ูุงูุตุบุฑู</h3>
    <ul class="clean">
      <li><b>ุงููุชุฑูุฌูู (N):</b> ููู ุณููุงู ูุฃูุฑุงู ุณุฑูุนุฉ.</li>
      <li><b>ุงูููุณููุฑ (P):</b> ุฏุนู ุงูุฌุฐูุฑ ูุงูุฅุฒูุงุฑ.</li>
      <li><b>ุงูุจูุชุงุณููู (K):</b> ุฌูุฏุฉ ุงูุซูุงุฑ ูููุงููุฉ ููุฃูุฑุงุถ.</li>
      <li><b>ุงูุญุฏูุฏ ูุงูุฒูู:</b> ุถุฑูุฑูุงู ูุชูุซูู ุงูุถูุก ูุฅูุฒููุงุช.</li>
    </ul>
  </section>
  <section>
    <h3>ุฃุนุฑุงุถ ุงูููุต ูุงูุนูุงุฌ</h3>
    <p class="small">ูุงุฆูุฉ ูุจุณุทุฉ: ุงุตูุฑุงุฑ ุนุงู -> ููุต Nุ ุงุตูุฑุงุฑ ุจูู ุงูุนุฑูู -> ููุต Fe/Znุ ุชูู ุงูุฃุทุฑุงู -> ููุต K/Ca.</p>
  </section>
  <section>
    <h3>ุงุณุชุฎุฏุงูุงุช ุงูููุชุฌุงุช ุงูุนุถููุฉ</h3>
    <p class="small">ุณูุงุฏ ุจูุฏูุ ูููุจูุณุชุ ูุณุชุฎูุตุงุช ูุจุงุชูุฉ ุชุนูู ุนูู ุชุญุณูู ุจููุฉ ุงูุชุฑุจุฉ ูุฒูุงุฏุฉ ุงููุดุงุท ุงููููุฑูุจู.</p>
  </section>
</div>

<script>
// List of 30 sample crops
const crops = [
  "ุงูููุญ","ุงูุฐุฑุฉ","ุงูุทูุงุทู","ุงูุจุทุงุทุณ","ุงููููู","ุงููุฑุงููุฉ","ุงูุจุทูุฎ","ุงูุดูุงู","ุงููุงุตูููุง","ุงูุนุฏุณ",
  "ุงูุญูุถูุงุช","ุงูุจุฑุชูุงู","ุงูููุณูู","ุงูููููู","ุงูุชูุงุญ","ุงูุนูุจ","ุงููุงูุฌู","ุงูุฎูุฎ","ุงูุจุงููุฉ","ุงูุณุจุงูุฎ",
  "ุงููุฑูุจูุท","ุงูุจุฑูููู","ุงููุฑูุจ","ุงููุงูุงู","ุงูุดุนูุฑ","ุงูุจุฑุณูู","ุงูููููุง","ุงูุณูุณู","ุงูููุจ","ุงูุจูุฌุฑ"
];

const cropListEl = document.getElementById('cropList');
const searchInput = document.getElementById('searchInput');
const selectedCropLabel = document.getElementById('selectedCropLabel');

function renderList(filter="") {
  cropListEl.innerHTML = "";
  const filtered = crops.filter(c => c.includes(filter) || filter==="");
  filtered.forEach(c => {
    const div = document.createElement('div');
    div.className = 'crop-item';
    div.textContent = c;
    div.onclick = ()=> selectCrop(c);
    cropListEl.appendChild(div);
  });
}

function selectCrop(name) {
  searchInput.value = name;
  selectedCropLabel.textContent = "ุงููุญุตูู: " + name;
  document.getElementById('ageCard').classList.remove('hidden');
  window.scrollTo(0,document.body.scrollHeight);
}

searchInput.addEventListener('input', ()=> renderList(searchInput.value.trim()));

// initial render
renderList();

function openAge() {
  const val = searchInput.value.trim();
  if (!val) {
    alert('ูู ูุถูู ุงุฎุชุฑ ุงููุญุตูู ุฃู ุงูุชุจ ุงุณูู.');
    return;
  }
  if (!crops.includes(val)) {
    // let user still proceed with custom crop
    selectedCropLabel.textContent = "ุงููุญุตูู: " + val + " (ูุฎุตุต)";
  }
  document.getElementById('ageCard').classList.remove('hidden');
  window.scrollTo(0,document.body.scrollHeight);
}

function clearSelection(){
  searchInput.value = "";
  document.getElementById('ageCard').classList.add('hidden');
  document.getElementById('programCard').classList.add('hidden');
}

function showProgram(){
  const age = parseInt(document.getElementById('plantAge').value || 0);
  const crop = searchInput.value.trim() || "ุงููุญุตูู";
  const out = document.getElementById('programOutput');
  if (!age || age <= 0){ out.textContent = "ูู ูุถูู ุฃุฏุฎู ุนูุฑ ุตุญูุญ ุจุงูุฃูุงู."; document.getElementById('programCard').classList.remove('hidden'); return; }
  let text = "";
  if (age <= 14) {
    text = `${crop} - ูุฑุญูุฉ ุงูุฅูุจุงุช (ุญุชู ${age} ููู):\n- ุฑู ุฎููู ููุชูุฑุฑ ูุชุฌูุจ ุชุดุจุน ุงูุชุฑุจุฉ.\n- ุชุฑููุฒ ุนูู ุงูููุณููุฑ ูุจูุงุก ุงูุฌุฐูุฑ.\n- ูุง ุญุงุฌุฉ ููููุงุช ูุจูุฑุฉ ูู ุงูููุชุฑูุฌูู ุจุนุฏ.\n- ูุฑุงูุจุฉ ุงูุขูุงุช ุงููุทุฑูุฉ.\n`;
  } else if (age <= 45) {
    text = `${crop} - ูุฑุญูุฉ ุงูููู ุงูุฎุถุฑู (ุญุชู ${age} ููู):\n- ุฑู ูุนุชุฏู ูุน ูุฑุงุนุงุฉ ุชุตุฑูู ุฌูุฏ.\n- ุณูุงุฏ ูุญุชูู ุนูู ููุชุฑูุฌูู ูุชูุงุฒู ูุจูุชุงุณููู.\n- ุชุณููุฏ ูุนูู: ูู 10-14 ููู ุญุณุจ ุงููุธุงู.\n- ูุชุงุจุนุฉ ููู ุงูุฃูุฑุงู ูุชุฌููู ุงูุชุณููุฏ ุงุฐุง ูุฒู.`;
  } else if (age <= 90) {
    text = `${crop} - ูุฑุญูุฉ ุงูุชุฒููุฑ ูุงูุนูุฏ (ุญุชู ${age} ููู):\n- ุชูููู ูููุฉ ุงูุฑู ุชุฏุฑูุฌููุง ูุชุดุฌูุน ุงูุชุฒููุฑ.\n- ุฒูุงุฏุฉ ุงูููุณููุฑ ูุงูุจูุชุงุณููู ุจูุณุจ ููุงุณุจุฉ.\n- ุฅุถุงูุฉ ูุงูุณููู ูุฃุฌุฒุงุก ุตุบุฑู ูุชุญุณูู ุฌูุฏุฉ ุงูุซูุงุฑ.`;
  } else {
    text = `${crop} - ูุฑุญูุฉ ุงููุถุฌ ููุง ุจุนุฏู (ุฃูุจุฑ ูู ${age} ููู):\n- ุฑู ุญุณุจ ุงูุญุงุฌุฉ ูุชุฌูุจ ุชุดูู ุงูุซูุงุฑ.\n- ุชุฎููุถ ุงูุชุณููุฏ ุงูููุชุฑูุฌููู ูุจู ุงูุญุตุงุฏ.\n- ุชุทุจูู ูุจูุฏุงุช ุงู ูุถุงุฏุงุช ุฅุฐุง ูุฒู ููุฌุงุจูุฉ ุงูุฃูุฑุงุถ.`;
  }
  out.textContent = text;
  document.getElementById('programCard').classList.remove('hidden');
  window.scrollTo(0,document.body.scrollHeight);
}

function openGuides(){ document.getElementById('guidesPage').classList.remove('hidden'); window.scrollTo(0,0); }
function closeGuides(){ document.getElementById('guidesPage').classList.add('hidden'); }
function openDiagnosis(){ alert('ุตูุญุฉ ุงูุชุดุฎูุต: ุงูุขู ููููู ุฑูุน ุตูุฑุฉุ ุณูุชู ุชุญููููุง ูู ุงูุฅุตุฏุงุฑุงุช ุงููุงุฏูุฉ.'); }
function scrollTop(){ window.scrollTo({top:0,behavior:'smooth'}); }
</script>
</body>
</html>
